flowchart TD
    S1["Start: Staircase Check"] --> A["For each <a href="http://example.com/firebimbuilding#Staircase" style="color:pink;">Staircase</a>"]
    A --> B["<a href="http://example.com/firebimbuilding#IsExternal" style="color:blue;">IsExternal</a>?"] & S["<a href="http://example.com/firebimbuilding#UsefulWidth" style="color:blue">UsefulWidth</a> ≥ <a href="http://example.com/firebimbuilding#RequiredUsefulWidth" style="color:blue">RequiredUsefulWidth</a>?"] & X["<a href="http://example.com/firebimbuilding#ConnectsEvacuationLevel" style="color:blue">ConnectsEvacuationLevel</a>?"]
    B -- Yes --> C["Check External Staircase Rules"]
    B -- No --> E["<a href="http://example.com/firebimbuilding#HasHandrails" style="color:blue;">HasHandrails</a>?"]
    E -- No --> G[/"Fail"/]
    H["<a href="http://example.com/firebimbuilding#TreadDepth" style="color:blue;">TreadDepth</a> ≥ 20 cm?"] -- Yes --> I["<a href="http://example.com/firebimbuilding#RiserHeight" style="color:blue">RiserHeight</a> ≤ 18 cm?"]
    H -- No --> J[/"Fail"/]
    I -- Yes --> K["<a href="http://example.com/firebimbuilding#StaircaseType" style="color:blue;">StaircaseType</a>?"]
    I -- No --> L[/"Fail"/]
    K -- Straight --> M["2 × <a href="http://example.com/firebimbuilding#RiserHeight" style="color:blue;">RiserHeight</a> + <a href="http://example.com/firebimbuilding#TreadDepth" style="color:blue">TreadDepth</a> = 63 cm ± 3 cm?"]
    K -- Winding --> N["<a href="http://example.com/firebimbuilding#TreadDepth" style="color:blue;">TreadDepth</a> ≥ 24 cm at 50 cm from inner edge?"]
    M -- Yes --> O[/"Pass"/]
    M -- No --> P[/"Fail"/]
    N -- Yes --> Q[/"Pass"/]
    N -- No --> R[/"Fail"/]
    S -- Yes --> T[/"Pass"/]
    S -- No --> U["<a href="http://example.com/firebimbuilding#WidthDifference" style="color:blue;">WidthDifference</a> &lt; 10%?"]
    U -- Yes --> V[/"Pass with tolerance"/]
    U -- No --> W[/"Fail"/]
    X -- Yes --> Y[/"Pass"/]
    AA["Alternative <a href="http://example.com/firebimbuilding#EvacuationRoute" style="color:pink;">EvacuationRoute</a>s exist?"] -- Yes --> AB[/"Pass"/]
    AA -- No --> AC[/"Fail"/]
    E -- Yes --> H
    X -- No --> AA

    C@{ shape: hex}
     S1:::startClass
     G:::failClass
     J:::failClass
     L:::failClass
     O:::passClass
     P:::failClass
     Q:::passClass
     R:::failClass
     T:::passClass
     V:::passClass
     W:::failClass
     Y:::passClass
     AB:::passClass
     AC:::failClass
    classDef startClass fill:#f9f,stroke:#333,stroke-width:4px
    classDef passClass fill:#9f9,stroke:#333,stroke-width:2px
    classDef failClass fill:#f99,stroke:#333,stroke-width:2px
    style C stroke:#000000,stroke-width:1px,stroke-dasharray: 0,fill:#FFD600


