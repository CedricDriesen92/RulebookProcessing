graph TD
    style Compartment fill:#ffc0cb
    style Door fill:#ffc0cb
    style Wall fill:#ffc0cb
    style Storey fill:#ffc0cb
    style Stair fill:#ffc0cb
    style Stairwell fill:#ffc0cb
    style EvacuationRoute fill:#ffc0cb

    A[Start] --> B{Check <font color='blue'>Compartment</font>}
    B --> |For each compartment| C{Check <font color='blue'>Number of exits</font>}
    C --> |< 2| D[Fail: Not enough exits]
    C --> |>= 2| E{Check exit locations}
    E --> |Not in opposite zones| F[Fail: Exits not in opposite zones]
    E --> |In opposite zones| G{Check <font color='blue'>Evacuation Route</font>s}
    G --> H{Lead to outside?}
    G --> I{Lead to <font color='blue'>Stairwell</font>?}
    G --> J{Lead to <font color='blue'>Stair</font>?}
    H --> |Yes| K[Pass]
    I --> |Yes| K
    J --> |Yes| L{Check stair location}
    L --> |Inside building| M{Check horizontal distances}
    L --> |Outside building| M
    M --> |Compliant with 4.4| K
    M --> |Non-compliant with 4.4| N[Fail: Horizontal distances non-compliant]

    O{Check if underground level}
    O --> |Yes| P{Check for alternative exit}
    P --> Q{<font color='blue'>Evacuation Route</font> to outside?}
    Q --> |Yes| R{Check <font color='blue'>Wall</font> fire resistance}
    R --> |EI 30| S{Check <font color='blue'>Door</font> fire resistance}
    S --> |EI1 30| T[Pass: Can replace one stairwell access]
    S --> |Not EI1 30| U[Fail: Door fire resistance insufficient]
    R --> |Not EI 30| V[Fail: Wall fire resistance insufficient]
    Q --> |No| W[Fail: No alternative exit to outside]

    X{Check if parking}
    X --> |Yes| Y[Refer to section 5.2]

    Z{Check <font color='blue'>Storey</font>}
    Z --> |Is evacuation level| AA{Check each <font color='blue'>Stair</font>}
    AA --> AB{Leads directly outside?}
    AB --> |Yes| AC[Pass]
    AB --> |No| AD{Leads to <font color='blue'>Evacuation Route</font>?}
    AD --> |Yes| AE{Check against section 4.4}
    AE --> |Compliant| AC
    AE --> |Non-compliant| AF[Fail: Evacuation route non-compliant]
    AD --> |No| AG[Fail: Stair doesn't lead outside or to compliant evacuation route]