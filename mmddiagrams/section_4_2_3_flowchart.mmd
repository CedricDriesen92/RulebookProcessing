graph TD
    classDef object fill:#FFC0CB,stroke:#333,stroke-width:2px;
    classDef property fill:#ADD8E6,stroke:#333,stroke-width:2px;

    start[Start] --> checkStairs[Check <span class='object'>Stair</span> properties]
    checkStairs --> checkFireResistance{Is <span class='property'>Fire resistance</span> >= R 30?}
    checkFireResistance -->|Yes| checkMaterial{Is <span class='property'>Material</span> class A1?}
    checkFireResistance -->|No| checkDesign{Is design same as concrete slab with R 30?}
    checkDesign -->|Yes| checkMaterial
    checkDesign -->|No| fail1[Fail: Insufficient fire resistance]

    checkMaterial -->|Yes| checkMeltingTemp{Is melting temperature > 727°C?}
    checkMaterial -->|No| checkHandrails
    checkMeltingTemp -->|Yes| checkHandrails{Check <span class='property'>Handrail</span>}
    checkMeltingTemp -->|No| checkHandrails

    checkHandrails --> checkUsefulWidth{Is <span class='property'>Useful Width</span> < 1.20m?}
    checkUsefulWidth -->|Yes| checkSingleHandrail{Has at least one handrail?}
    checkUsefulWidth -->|No| checkDoubleHandrail{Has handrails on both sides?}
    checkSingleHandrail -->|Yes| checkTreadLength
    checkSingleHandrail -->|No| fail2[Fail: Insufficient handrails]
    checkDoubleHandrail -->|Yes| checkTreadLength
    checkDoubleHandrail -->|No| fail3[Fail: Insufficient handrails]

    checkTreadLength{Is <span class='property'>Tread length</span> >= 20cm at all points?}
    checkTreadLength -->|Yes| checkRiserHeight
    checkTreadLength -->|No| fail4[Fail: Insufficient tread length]

    checkRiserHeight{Is <span class='property'>Riser height</span> <= 18cm?}
    checkRiserHeight -->|Yes| checkSlope
    checkRiserHeight -->|No| fail5[Fail: Riser height too large]

    checkSlope{Is <span class='property'>Slope</span> <= 75% (37°)?}
    checkSlope -->|Yes| checkStairType
    checkSlope -->|No| fail6[Fail: Slope too steep]

    checkStairType{Is stair type straight?}
    checkStairType -->|Yes| checkUsefulWidthFinal
    checkStairType -->|No| checkSpiralStair{Is it a spiral stair?}
    checkSpiralStair -->|Yes| checkSpiralTreadLength{Is <span class='property'>Tread length</span> >= 24cm on walking line?}
    checkSpiralStair -->|No| fail7[Fail: Invalid stair type]
    checkSpiralTreadLength -->|Yes| checkUsefulWidthFinal
    checkSpiralTreadLength -->|No| fail8[Fail: Insufficient spiral stair tread length]

    checkUsefulWidthFinal{Is <span class='property'>Useful Width</span> >= 0.80m?}
    checkUsefulWidthFinal -->|Yes| checkUsefulWidthRequired{Is <span class='property'>Useful Width</span> >= required width br?}
    checkUsefulWidthFinal -->|No| fail9[Fail: Insufficient useful width]
    checkUsefulWidthRequired -->|Yes| checkWidthDifference
    checkUsefulWidthRequired -->|No| fail10[Fail: Insufficient required width]

    checkWidthDifference{Is width difference <= 1 passage unit within same compartment?}
    checkWidthDifference -->|Yes| pass[Pass: Stair complies with all requirements]
    checkWidthDifference -->|No| fail11[Fail: Excessive width difference]

    class start object;
    class checkStairs,checkFireResistance,checkDesign,checkMaterial,checkMeltingTemp,checkHandrails,checkUsefulWidth,checkSingleHandrail,checkDoubleHandrail,checkTreadLength,checkRiserHeight,checkSlope,checkStairType,checkSpiralStair,checkSpiralTreadLength,checkUsefulWidthFinal,checkUsefulWidthRequired,checkWidthDifference object;
    class fail1,fail2,fail3,fail4,fail5,fail6,fail7,fail8,fail9,fail10,fail11,pass object;